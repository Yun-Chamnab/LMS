{"remainingRequest":"C:\\xampp\\htdocs\\LMS\\Exam_service\\LMS-template\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\xampp\\htdocs\\LMS\\Exam_service\\LMS-template\\src\\views\\exam\\TakeExam.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\xampp\\htdocs\\LMS\\Exam_service\\LMS-template\\src\\views\\exam\\TakeExam.vue","mtime":1615999246248},{"path":"C:\\xampp\\htdocs\\LMS\\Exam_service\\LMS-template\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\xampp\\htdocs\\LMS\\Exam_service\\LMS-template\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\xampp\\htdocs\\LMS\\Exam_service\\LMS-template\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\xampp\\htdocs\\LMS\\Exam_service\\LMS-template\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQgYXhpb3MgZnJvbSAiYXhpb3MiOw0KY29uc3QgYXBpVXJsID0gcmVxdWlyZSgiLi4vLi4vYXBpVXJsLmpzIik7DQoNCmltcG9ydCBWdWVDb3VudGRvd24gZnJvbSAiQGNoZW5mZW5neXVhbi92dWUtY291bnRkb3duIjsNCmV4cG9ydCBkZWZhdWx0IHsNCiAgY29tcG9uZW50czogew0KICAgIFZ1ZUNvdW50ZG93biwNCiAgfSwNCiAgZGF0YSgpIHsNCiAgICByZXR1cm4gew0KICAgICAgYW5zd2VyOiBbXSwNCiAgICAgIGl0ZW1zOiBbXSwNCiAgICAgIGl0ZW1pZDogdGhpcy4kcm91dGUucGFyYW1zLmlkLA0KICAgICAgcXVlc3Rpb246IG51bGwsDQogICAgICAvLyBzY29yZTogbnVsbCwNCiAgICAgIHN0YXR1c19jb3JyZWN0OiBudWxsLA0KICAgICAgcGlja2VkQW5zd2VyOiBudWxsLA0KICAgICAgY29ycmVjdDogMCwNCiAgICAgIHdyb25nQW5zd2VyOiBmYWxzZSwNCiAgICAgIHBvaW50OiAwLA0KICAgICAgcmVzdWx0OiBmYWxzZSwNCiAgICAgIHRvdGFsX3Njb3JlOiAwLA0KICAgICAgY291bnRpbmc6IHRydWUsDQogICAgICBkdXJhdGlvbjogMTAwMDAwMCwNCiAgICAgIGNvdW50ZG93bjogZmFsc2UsDQogICAgICBxdWVzdGlvbkluZGV4OiAwLA0KICAgICAgdXNlclJlc3BvbnNlczogQXJyYXkoKSwNCiAgICB9Ow0KICB9LA0KICBhc3luYyBtb3VudGVkKCkgew0KICAgIGF3YWl0IHRoaXMubG9hZERhdGEoKTsNCiAgfSwNCiAgbWV0aG9kczogew0KICAgIGFzeW5jIGxvYWREYXRhKCkgew0KICAgICAgYXhpb3MNCiAgICAgICAgLmdldCgiaHR0cDovLzEyNy4wLjAuMTo4MDAwL2FwaS9xdWVzdGlvbi8iICsgdGhpcy5pdGVtaWQpDQogICAgICAgIC50aGVuKChyZXNwb25zZSkgPT4gew0KICAgICAgICAgIHRoaXMuaXRlbXMgPSByZXNwb25zZS5kYXRhLmRhdGFbMF0ucXVlc3Rpb247DQogICAgICAgICAgdGhpcy5kdXJhdGlvbiA9IHJlc3BvbnNlLmRhdGEuZGF0YVswXS5kdXJhdGlvbjsNCiAgICAgICAgICB0aGlzLmR1cmF0aW9uICsgMTAwMDA7DQogICAgICAgICAgd2luZG93LmNvbnNvbGUubG9nKHRoaXMuZHVyYXRpb24pOw0KICAgICAgICB9KQ0KICAgICAgICAuY2F0Y2goKGVycm9yKSA9PiB7DQogICAgICAgICAgd2luZG93LmNvbnNvbGUubG9nKGVycm9yKTsNCiAgICAgICAgfSk7DQogICAgfSwNCiAgICBhc3luYyBwb3N0UmVzdWx0KCkgew0KICAgICAgbmV3IFByb21pc2UoKHJlc29sdmUpID0+IHsNCiAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7DQogICAgICAgICAgcmVzb2x2ZSgicmVzb2x2ZWQiKTsNCg0KICAgICAgICAgIGxldCBzdHJVcmwgPSBhcGlVcmwucmVzdWx0X3Bvc3Q7DQogICAgICAgICAgbGV0IG1ldGhvZCA9ICJwb3N0IjsNCiAgICAgICAgICBheGlvcyh7DQogICAgICAgICAgICBtZXRob2Q6IG1ldGhvZCwNCiAgICAgICAgICAgIHVybDogc3RyVXJsLA0KICAgICAgICAgICAgZGF0YTogew0KICAgICAgICAgICAgICB1c2VyX2lkOiAxLA0KICAgICAgICAgICAgICBxdWl6X2lkOiB0aGlzLiRyb3V0ZS5wYXJhbXMuaWQsDQogICAgICAgICAgICAgIHNjb3JlOiB0aGlzLnBvaW50LA0KICAgICAgICAgICAgICB0b3RhbF9zY29yZTogdGhpcy50b3RhbF9zY29yZSwNCiAgICAgICAgICAgIH0sDQogICAgICAgICAgfSkNCiAgICAgICAgICAgIC50aGVuKChyZXNwb25zZSkgPT4gew0KICAgICAgICAgICAgICB0aGlzLmxvYWREYXRhKCk7DQogICAgICAgICAgICAgIHdpbmRvdy5jb25zb2xlLmxvZyhyZXNwb25zZS5kYXRhKTsNCiAgICAgICAgICAgIH0pDQogICAgICAgICAgICAuY2F0Y2goKGUpID0+IHsNCiAgICAgICAgICAgICAgdGhpcy5lcnJvcnMucHVzaChlKTsNCiAgICAgICAgICAgIH0pOw0KICAgICAgICB9LCAyMDApOw0KICAgICAgfSk7DQogICAgfSwNCiAgICBjaGVja0Fuc3dlcihrZXksIHNjb3JlLCBpbmQpIHsNCiAgICAgIHdpbmRvdy5jb25zb2xlLmxvZyhrZXksICJLRVkiKTsNCiAgICAgIHdpbmRvdy5jb25zb2xlLmxvZyhzY29yZSwgInNjb3JlIik7DQogICAgICB3aW5kb3cuY29uc29sZS5sb2coaW5kLCAiaW5kZXgiKTsNCiAgICAgIHRoaXMuY29sQW5zdyA9IFtrZXksIHNjb3JlLCBpbmRdOw0KICAgICAgd2luZG93LmNvbnNvbGUubG9nKHRoaXMuY29sQW5zdywgImFsbGFuc3dlciIpOw0KDQogICAgICB0aGlzLnRvdGFsX3Njb3JlID0gdGhpcy50b3RhbF9zY29yZSArIHNjb3JlOw0KICAgICAgd2luZG93LmNvbnNvbGUubG9nKCJ0b3RhbCIsIHRoaXMudG90YWxfc2NvcmUpOw0KICAgICAgaWYgKGtleSA9PSAxKSB7DQogICAgICAgIHRoaXMucG9pbnQgKz0gc2NvcmU7DQogICAgICAgIHRoaXMuY29ycmVjdCsrOw0KICAgICAgfQ0KDQogICAgICByZXR1cm4gdGhpcy50b3RhbF9zY29yZTsNCiAgICB9LA0KICAgIGxvYWRSZXN1bHQoKSB7DQogICAgICB0aGlzLmNoZWNrQW5zd2VyKDAsIDApOw0KICAgICAgLy8gd2luZG93LmNvbnNvbGUubG9nKHRoaXMucmFkaW9Hcm91cCwgInBpY2tlZCIpOw0KICAgICAgdGhpcy5wb3N0UmVzdWx0KCk7DQogICAgICB0aGlzLnJlc3VsdCA9IHRydWU7DQogICAgfSwNCiAgICBzdGFydENvdW50ZG93bjogZnVuY3Rpb24gKCkgew0KICAgICAgdGhpcy5jb3VudGluZyA9IHRydWU7DQogICAgfSwNCiAgICBvbkNvdW50ZG93bkVuZDogZnVuY3Rpb24gKCkgew0KICAgICAgdGhpcy5jb3VudGluZyA9IGZhbHNlOw0KICAgICAgdGhpcy5jb3VudGRvd24gPSB0cnVlOw0KICAgIH0sDQogICAgLy8gR28gdG8gbmV4dCBxdWVzdGlvbg0KICAgIG5leHQ6IGZ1bmN0aW9uICgpIHsNCiAgICAgIHRoaXMucXVlc3Rpb25JbmRleCsrOw0KICAgICAgd2luZG93LmNvbnNvbGUubG9nKHRoaXMudXNlclJlc3BvbnNlcyk7DQogICAgfSwNCiAgICAvLyBHbyB0byBwcmV2aW91cyBxdWVzdGlvbg0KICAgIHByZXY6IGZ1bmN0aW9uICgpIHsNCiAgICAgIHRoaXMucXVlc3Rpb25JbmRleC0tOw0KICAgIH0sDQogICAgc2NvcmU6IGZ1bmN0aW9uICgpIHsNCiAgICAgIC8vZmluZCB0aGUgaGlnaGVzdCBvY2N1cmVuY2UgaW4gcmVzcG9uc2VzDQogICAgICB2YXIgbW9kZU1hcCA9IHt9Ow0KICAgICAgdmFyIG1heEVsID0gdGhpcy51c2VyUmVzcG9uc2VzWzBdLA0KICAgICAgICBtYXhDb3VudCA9IDE7DQogICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMudXNlclJlc3BvbnNlcy5sZW5ndGg7IGkrKykgew0KICAgICAgICB2YXIgZWwgPSB0aGlzLnVzZXJSZXNwb25zZXNbaV07DQogICAgICAgIGlmIChtb2RlTWFwW2VsXSA9PSBudWxsKSBtb2RlTWFwW2VsXSA9IDE7DQogICAgICAgIGVsc2UgbW9kZU1hcFtlbF0rKzsNCiAgICAgICAgaWYgKG1vZGVNYXBbZWxdID4gbWF4Q291bnQpIHsNCiAgICAgICAgICBtYXhFbCA9IGVsOw0KICAgICAgICAgIG1heENvdW50ID0gbW9kZU1hcFtlbF07DQogICAgICAgIH0NCiAgICAgIH0NCiAgICAgIHJldHVybiBtYXhFbDsNCiAgICB9LA0KICB9LA0KfTsNCg=="},{"version":3,"sources":["TakeExam.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA6HA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"TakeExam.vue","sourceRoot":"src/views/exam","sourcesContent":["<template>\r\n  <v-container>\r\n    <vue-countdown\r\n      v-if=\"counting\"\r\n      :time=\"10000\"\r\n      @end=\"onCountdownEnd\"\r\n      v-slot=\"{ totalSeconds }\"\r\n      >Duration: {{ totalSeconds }} later</vue-countdown\r\n    >\r\n\r\n    <div v-for=\"(quest, index) in items\" v-bind:key=\"index\">\r\n      <v-card class=\"mx-auto mt-1\" max-width=\"400\" tile>\r\n        <v-list class=\"mx-5\">\r\n          <v-list-item-group color=\"indigo darken-4\">\r\n            <v-list-item-title class=\"mb-3\"\r\n              ><h4>\r\n                <span class=\"black--text\"\r\n                  >{{ 1 + index++ }}. {{ quest.question }}\r\n                </span>\r\n                <span class=\"float-right\"\r\n                  ><h5>{{ quest.score }}pt</h5></span\r\n                >\r\n              </h4>\r\n            </v-list-item-title>\r\n\r\n            <v-list-item\r\n              v-for=\"answ in quest.answer\"\r\n              :key=\"answ\"\r\n              v-model=\"userResponses[(answ.status_correct, quest.score)]\"\r\n              @click.native=\"\r\n                checkAnswer(answ.status_correct, quest.score, index)\r\n              \"\r\n            >\r\n              <v-list-item-content>\r\n                <span>\r\n                  <v-list-item-title\r\n                    >{{ answ.answer }}\r\n                    <span v-if=\"result == true\"\r\n                      ><span v-if=\"answ.status_correct == 1\"\r\n                        ><i\r\n                          class=\"far fa-check-circle float-right\"\r\n                          style=\"color: green\"\r\n                        ></i>\r\n                      </span>\r\n                      <span v-else\r\n                        ><i\r\n                          class=\"far fa-times-circle float-right\"\r\n                          style=\"color: red\"\r\n                        ></i>\r\n                      </span>\r\n                    </span>\r\n                  </v-list-item-title>\r\n                </span>\r\n              </v-list-item-content>\r\n            </v-list-item>\r\n          </v-list-item-group>\r\n        </v-list>\r\n      </v-card>\r\n    </div>\r\n\r\n    <!-- <div class=\"callout\">\r\n      <div v-for=\"(question, index) in items\" :key=\"index\"> -->\r\n    <!-- Hide all questions, show only the one with index === to current question index -->\r\n    <!-- <div v-show=\"index === questionIndex\">\r\n          <h3>{{ question.question }}</h3>\r\n          <ol> -->\r\n    <!-- for each response of the current question -->\r\n    <!-- <li v-for=\"response in question.answer\" :key=\"response\">\r\n              <label>\r\n                <input\r\n                  type=\"radio\"\r\n                  v-bind:value=\"response.answer\"\r\n                  v-bind:name=\"index\"\r\n                  v-model=\"userResponses[(index, question.status_correct)]\"\r\n                />\r\n                {{ response.answer }}\r\n              </label>\r\n            </li>\r\n          </ol> -->\r\n    <!-- The two navigation buttons -->\r\n    <!-- Note: prev is hidden on first question -->\r\n    <!-- <button\r\n            class=\"secondary button\"\r\n            v-if=\"questionIndex > 0\"\r\n            v-on:click=\"prev\"\r\n          >\r\n            prev\r\n          </button>\r\n          <button class=\"success button\" v-on:click=\"next\">next</button>\r\n        </div>\r\n      </div> -->\r\n\r\n    <!-- Last page, quiz is finished, display result -->\r\n    <!-- <div v-show=\"questionIndex === items.questions.length()\"> -->\r\n    <!-- <h3>Your Results</h3>\r\n        <p>You are: {{ score() }}</p> -->\r\n    <!-- </div> -->\r\n    <!-- </div> -->\r\n\r\n    <v-layout justify-center v-if=\"result == false || countdown == false\">\r\n      <v-btn\r\n        color=\"primary darken-1\"\r\n        @click=\"loadResult()\"\r\n        max-width=\"10rem\"\r\n        dark\r\n        class=\"mt-3\"\r\n      >\r\n        <h6>Submit</h6>\r\n      </v-btn>\r\n    </v-layout>\r\n    <v-layout justify-center>\r\n      <span v-if=\"result == true\">\r\n        <v-responsive\r\n          class=\"text-center green lighten-1 rounded-circle d-inline-flex align-center justify-center ma-3\"\r\n          height=\"150\"\r\n          width=\"150\"\r\n        >\r\n          <h4>Result: {{ this.point }}/ {{ this.total_score }}</h4>\r\n        </v-responsive>\r\n      </span>\r\n    </v-layout>\r\n  </v-container>\r\n</template>\r\n\r\n<script>\r\nimport axios from \"axios\";\r\nconst apiUrl = require(\"../../apiUrl.js\");\r\n\r\nimport VueCountdown from \"@chenfengyuan/vue-countdown\";\r\nexport default {\r\n  components: {\r\n    VueCountdown,\r\n  },\r\n  data() {\r\n    return {\r\n      answer: [],\r\n      items: [],\r\n      itemid: this.$route.params.id,\r\n      question: null,\r\n      // score: null,\r\n      status_correct: null,\r\n      pickedAnswer: null,\r\n      correct: 0,\r\n      wrongAnswer: false,\r\n      point: 0,\r\n      result: false,\r\n      total_score: 0,\r\n      counting: true,\r\n      duration: 1000000,\r\n      countdown: false,\r\n      questionIndex: 0,\r\n      userResponses: Array(),\r\n    };\r\n  },\r\n  async mounted() {\r\n    await this.loadData();\r\n  },\r\n  methods: {\r\n    async loadData() {\r\n      axios\r\n        .get(\"http://127.0.0.1:8000/api/question/\" + this.itemid)\r\n        .then((response) => {\r\n          this.items = response.data.data[0].question;\r\n          this.duration = response.data.data[0].duration;\r\n          this.duration + 10000;\r\n          window.console.log(this.duration);\r\n        })\r\n        .catch((error) => {\r\n          window.console.log(error);\r\n        });\r\n    },\r\n    async postResult() {\r\n      new Promise((resolve) => {\r\n        setTimeout(() => {\r\n          resolve(\"resolved\");\r\n\r\n          let strUrl = apiUrl.result_post;\r\n          let method = \"post\";\r\n          axios({\r\n            method: method,\r\n            url: strUrl,\r\n            data: {\r\n              user_id: 1,\r\n              quiz_id: this.$route.params.id,\r\n              score: this.point,\r\n              total_score: this.total_score,\r\n            },\r\n          })\r\n            .then((response) => {\r\n              this.loadData();\r\n              window.console.log(response.data);\r\n            })\r\n            .catch((e) => {\r\n              this.errors.push(e);\r\n            });\r\n        }, 200);\r\n      });\r\n    },\r\n    checkAnswer(key, score, ind) {\r\n      window.console.log(key, \"KEY\");\r\n      window.console.log(score, \"score\");\r\n      window.console.log(ind, \"index\");\r\n      this.colAnsw = [key, score, ind];\r\n      window.console.log(this.colAnsw, \"allanswer\");\r\n\r\n      this.total_score = this.total_score + score;\r\n      window.console.log(\"total\", this.total_score);\r\n      if (key == 1) {\r\n        this.point += score;\r\n        this.correct++;\r\n      }\r\n\r\n      return this.total_score;\r\n    },\r\n    loadResult() {\r\n      this.checkAnswer(0, 0);\r\n      // window.console.log(this.radioGroup, \"picked\");\r\n      this.postResult();\r\n      this.result = true;\r\n    },\r\n    startCountdown: function () {\r\n      this.counting = true;\r\n    },\r\n    onCountdownEnd: function () {\r\n      this.counting = false;\r\n      this.countdown = true;\r\n    },\r\n    // Go to next question\r\n    next: function () {\r\n      this.questionIndex++;\r\n      window.console.log(this.userResponses);\r\n    },\r\n    // Go to previous question\r\n    prev: function () {\r\n      this.questionIndex--;\r\n    },\r\n    score: function () {\r\n      //find the highest occurence in responses\r\n      var modeMap = {};\r\n      var maxEl = this.userResponses[0],\r\n        maxCount = 1;\r\n      for (var i = 0; i < this.userResponses.length; i++) {\r\n        var el = this.userResponses[i];\r\n        if (modeMap[el] == null) modeMap[el] = 1;\r\n        else modeMap[el]++;\r\n        if (modeMap[el] > maxCount) {\r\n          maxEl = el;\r\n          maxCount = modeMap[el];\r\n        }\r\n      }\r\n      return maxEl;\r\n    },\r\n  },\r\n};\r\n</script>"]}]}